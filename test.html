<html>
    <head>
        <script type='text/javascript' src="class/Base.js"></script>
        <script type='text/javascript' src="class/Element.js"></script>
    </head>
    <body>
        <div id="base"></div>
        <script>
            // こんな感じにしてみる
            //<div>
            //    <div>
            //        <span>いっち</span>
            //    </div>
            //    <div>
            //        <div>
            //            <span>にぃいいっち</span>
            //        </div>
            //    </div>
            //</div>
            var root = new ClassElement('div');
            var div1 = new ClassElement('div');
            var div2 = new ClassElement('div');
            var div21 = new ClassElement('div');
            var span1 = new ClassElement('span');
            var span21 = new ClassElement('span');
            root.appendChild(div1);
            div1.appendChild(span1);
            root.appendChild(div2);
            div2.appendChild(div21);
            div21.appendChild(span21);
            // ルートノード設定
            root.on("object event", (event) => {
                console.log("ルートオブジェクトでイベント受け取ったよ");
                console.log(event);
            });
            // でぶ１ノード設定
            div1.appendChild(span1);
            div1.onClick((event, self) => {
                console.log("くりっく　いっち");
                console.log("オブジェクトにイベント発行");
                self.emit("object event");
            });
            div1.on("object event", () => {
                console.log("でぶ１オブジェクトでイベント受け取ったよ");
            });
            // でぶ２の１ノード設定
            div21.appendChild(span21);
            div21.onClick((event, self) => {
                console.log("くりっく　にぃいいっち");
                console.log("オブジェクトにイベント発行");
                self.emit("object event", {abc:"aaaaaaaaaaaaaaaaaa"});
            });
            // テキストいっち設定
            span1.element.innerHTML = "いっち";
            // テキストにぃいいっち設定
            span21.element.innerHTML = "にぃいいっち";
            // documentにルートノード追加
            document.getElementById('base').appendChild(root.element);
        </script>
    </body>
</html>
